<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Contamination – Dashboard</title>
<style>
body { font-family: Arial; background:#111; color:#eee; padding:20px; text-align:center; }
h1 { margin-bottom:30px; }
.tag { display:inline-block; width:80px; height:40px; line-height:40px; text-align:center; margin:5px; border-radius:5px; font-weight:bold; color:#fff; }
.sain { background-color:#28a745; }
.contamine { background-color:#dc3545; }
.zone { margin-bottom:20px; }
.zone h2 { margin-bottom:10px; }
</style>
</head>
<body>
<h1>Contamination – Dashboard</h1>

<div class="zone">
  <h2>Zone A</h2>
  <div id="A-tags"></div>
</div>
<div class="zone">
  <h2>Zone B</h2>
  <div id="B-tags"></div>
</div>
<div class="zone">
  <h2>Zone C</h2>
  <div id="C-tags"></div>
</div>

<script>
const zones = ["A","B","C"];
zones.forEach(zone => {
  const container = document.getElementById(zone + "-tags");
  for(let i=1;i<=12;i++){
    const tagId = zone + String(i).padStart(2,"0");
    const div = document.createElement("div");
    const state = localStorage.getItem(tagId) || "sain";
    div.className = "tag " + state;
    div.textContent = tagId;
    container.appendChild(div);
  }
});

// Met à jour toutes les 500ms pour voir les changements en temps réel
setInterval(()=>{
  zones.forEach(zone=>{
    const container = document.getElementById(zone + "-tags");
    for(let i=0;i<container.children.length;i++){
      const tagId = zone + String(i+1).padStart(2,"0");
      container.children[i].className = "tag " + (localStorage.getItem(tagId)||"sain");
    }
  });
},500);
</script>
</body>
</html>
